---
export type ExperienceItem = {
  role: string;
  company: {
    name: string;
    industries: string[];
    location: string;
  };
  since: string;
  to: string;
  responsibilities: string[];
  accomplishments: string[];
};

export interface Props extends ExperienceItem {}

const { company, role, since, to, accomplishments, responsibilities } =
  Astro.props;
---

<article>
  <label for={`${company.name}_${role.replace(" ", "-")}`}>
    <h4 class="role">
      {role} at <span>{company.name}</span>
    </h4>
  </label>
  <input
    type="checkbox"
    name={`${company.name}_${role.replace(" ", "-")}`}
    id={`${company.name}_${role.replace(" ", "-")}`}
  />
  <div class="roleInfo">
    <p class="roleInfo__item">
      <img
        width="20"
        height="20"
        class="roleInfo__item__icon"
        src="/svg/calendar.svg"
        alt=""
      />
      <time>{since}</time> &ndash; <time>{to}</time>
    </p>

    <p class="roleInfo__item">
      <img
        width="20"
        height="20"
        class="roleInfo__item__icon"
        src="/svg/location.svg"
        alt=""
      />
      <span>{company.location}</span>
    </p>
  </div>

  <div class="companyIndustry">
    {
      company.industries.map(el => (
        <span class="companyIndustry__item">{el}</span>
      ))
    }
  </div>

  <h5 class="listTitle">Responsibilities</h5>
  <ul class="list">
    {responsibilities.map(item => <li>{item}</li>)}
  </ul>

  <h5 class="listTitle">Key accomplishments</h5>
  <ul class="list">
    {accomplishments.map(item => <li>{item}</li>)}
  </ul>
</article>

<style>
  .role {
    margin: 1rem 0;
    font-size: 1.5rem;
  }

  .roleInfo {
    display: flex;
    align-items: center;
    gap: 0.5rem;

    margin: 1rem 0;
  }

  .roleInfo__item {
    padding: 0.5rem 1.2rem;
    border-radius: 1rem;
    background-color: var(--primary-color);
    opacity: 0.8;

    font-size: 0.7rem;
    display: flex;
    gap: 0.3rem;
    align-items: center;
    margin: 0;
  }

  .roleInfo__item__icon {
    width: 1.2rem;
  }

  /* article {
    position: relative;
    padding: 0.5rem;
  }

  article::before {
    content: "";
    width: 2px;
    background-color: #fff;
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
  } */

  .list {
    display: flex;
    flex-direction: column;
    gap: 1rem;

    position: relative;

    background-color: var(--primary-color);
    padding: 1rem;
    border-radius: 5px;

    font-size: 1rem;
  }

  .list::before {
    content: "";

    width: 5px;
    height: 100%;

    position: absolute;
    top: 0;
    left: 0;

    background-color: var(--terciary-color);
  }

  .listTitle {
    font-size: 1.2rem;
    margin: 2rem 0 1rem;
  }

  .companyIndustry {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 1.5rem;
    font-size: 0.7rem;
  }

  .companyIndustry__item {
    padding: 0.5rem 1.2rem;
    border-radius: 1rem;
    background-color: var(--primary-color);
    opacity: 0.8;
  }
</style>
